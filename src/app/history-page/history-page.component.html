<meta name="viewport" content="width=device-width, initial-scale=1.0">

<app-layout></app-layout>
<div class="content">
  <div>
    <div class="search-bar">
      <div class="search-input">
        <input type="text" [(ngModel)]="searchQuery" placeholder="Search for customer name...."
          (xkeypress)="searchCustomer(searchQuery)" />
        <button class="button button-submit" (click)="searchCustomer(searchQuery)">Search</button>
      </div>
    </div>
  </div>
  <div class="header-row">
    <table class="customer-table">
      <thead>
        <tr>
          <th class="span1">ID</th>
          <th class="span2">Name</th>
          <th class="span3">Phone</th>
          <th class="span4">Email</th>
          <th>Action<button class="button button-add" (click)="openSnackBar()">Add new customer</button></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of selectedCustomer; let i = index" class="customer-item">
          <td>{{ customer.customerId}}</td>
          <td>{{ customer.customerName }}</td>
          <td>{{ customer.customerContact }}</td>
          <td>{{ customer.customerEmail }}</td>
          <td >
            <button class="button button-view" (click)="searchQuotation(customer.customerName, i)">View quote</button>
          </td>
        </tr>
      </tbody>
       
    </table>
  </div>
  <div class="page-selector">
    <button (click)="goToPage('prev')">Previous</button>
    <span>Page  <input type="number" [(ngModel)]="currentPage" (change)="goToPageInput()" />
      of {{ totalPages }}</span>
    <button (click)="goToPage('next')">Next</button>
  </div> 
  

</div>


<div class="sidebar-history">
  <div class="container">
    <div class="title">
      <span>Details</span>
      
    </div>
    <hr width="93%;" color="#d9d9d9" size="1">

    <div *ngIf="showQuotationListItemBoolean === 0 ">
      <p>No customer selected</p>
    </div>
    <div *ngIf="showQuotationListItemBoolean >0">
      <div class="customer-details">
        <div class="customer-id">
          <p>Current customer ID: [{{selectedCustomer[onclickCustomer].customerId }}]</p>
          <div class="customer-name">
            <p>
              <!-- <button *ngIf="showQuotationListItemBoolean === 1" class="button button-return"
                (click)="showCustomerDetails()">
                &#8617;
              </button> -->
              Customer Name: {{ selectedCustomer[onclickCustomer].customerName }}
            </p>
          </div>
        </div>
      </div>
  


  <div *ngIf="showQuotationListItemBoolean ===0">
      <p>No quotations selected</p>
    </div>
    <div *ngIf=" showQuotationListItemBoolean ===1">
      <h4>Pending Quotations</h4>
      <table class="quotation-table-pending">
        <div class="divider"></div>
        <tbody class="quotation-table-item">
          <tr *ngFor="let item of selectedQuotationListByCustomerId; let i = index">
            <td>{{ i + 1 }}</td>
            <td class="partName">xddd</td>
            <td>xddd</td>
            <td>sss</td>
            <td>
              <button class="button button-view-side" (click)="searchQuotationListItem(1)">View quote</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
    <!--
    <div *ngIf="selectedQuotationList.length === 0 ">
      <p>No completed quotations</p>
    </div>
    <div *ngIf="selectedQuotationList.length > 0 ">
      <h4>Completed Quotations</h4>
      <table class="quotation-table-completed">
        <tbody class="quotation-table-item">
          <tr *ngFor="let item of selectedQuotationList; let i = index">
            <td>{{ i + 1 }}</td>
            <td class="partName">{{ item?.quoteNo }}</td>
            <td>{{ item?.quoteDate }}</td>
            <td>{{ item?.quoteValidDate }}</td>
            <td>
              <button class="button button-view-side" (click)="searchQuotationListItem(1)">View quote</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="showQuotationListItemBoolean === 1">
      <table class="quotation-table-detail">
        <tbody class="quotation-table-item">
          <tr *ngFor="let item of quotationList; let i = index">
            <td>{{ i + 1 }}</td>
            <td class="partName"></td>
            <td>[Part ID]</td>
            <td>[Unit Price]</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


-->

<div id="snackbar">Success!</div> 